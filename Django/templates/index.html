{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/style.css">
    <title>Document</title>
</head>
<body>
    <div class="wrapper">
        <p class="login">Login | Sign up</p>
        <div class="mainBox">
            <a class="menu-trigger" href="{% url 'emotionList'%}">
                <span></span>
                <span></span>
                <span></span>
            </a>
            <form action="{% url 'analyze_sentiment'%}" method="POST">
                <div class="input-container">
                    <p class="mainText">" 오늘 당신의 하루는 어떠셨나요? "</p>
                    <hr>
                    <br>
                    {% csrf_token %}
                    <input type="text" id="today_text" name="today_text" placeholder="입력하세요.." class="styled-input">
                    {% if result %}
                    <p id="mood">{{result}}</p>
                    {% endif %}
                </div>
            </form>
        </div>
    </div>
    <article class="footerBox">
        <footer>Copyright © 2024 LimYeri.</footer>
    </article>

    {% if error == 'error' %}
        <script>
            alert("오류가 발생했습니다. 다시 작성해주세요.");
        </script>
    {% endif %}
    
    <script>
        var burger = $('.menu-trigger');

        burger.each(function(index){
        var $this = $(this);
        
        $this.on('click', function(e){
            e.preventDefault();
            $(this).toggleClass('active-' + (index+1));
        })
        });

        document.addEventListener('DOMContentLoaded', function() {
            // 특정 id를 가진 <p> 태그 선택
            const mood = document.getElementById('mood');
        
            if (mood.textContent.includes("'긍정'")) {
                mood.style.setProperty('color', 'yellow', 'important');
            }
            
            if (mood.textContent.includes("'부정'")) {
                mood.style.setProperty('color', 'red', 'important');
            }
            
        });
        
    </script>
</body>
</html>